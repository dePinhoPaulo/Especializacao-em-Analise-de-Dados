AULA_1: Introdução


AULA_2: Contextos de Avaliação

    Contexto de linha:
        Calcula o valor baseado naquela linha;
    
    Contexto de filtro:
        Calcula o valor baseado nos filtros que estão sendo aplicados;


AULA_3: Testando os conhecimentos de Contexto de filtro

    "Explicação do contaxto de Filtro"


AULA_4: Testando os conhecimentos de Contexto de filtro (Parte 2)

    "Fazendo medidas e jogando na atriz para explicar contexto de filtro"


AULA_5: Entendendo as bases e criando as colunas calculadas

    Coluna calculada:
        Faturamento na Venda = 
            BaseVendas[Tamanho Pedido]*RELATED(CadastroProdutos[Preço Unitário])
        Custo na Venda = 
            BaseVendas[Tamanho Pedido]*RELATED(CadastroProdutos[Custo Unitário])
        Margem na Venda = 
            (BaseVendas[Faturamento na Venda] - BaseVendas[Custo na Venda]) / BaseVendas[Faturamento na Venda]


AULA_6: Devo usar colunas calculadas ou medidas?

    Coluna calculada:
        Lucro na Venda = 
            BaseVendas[Faturamento na Venda] - BaseVendas[Custo na Venda]


AULA_7: Criando Medidas para corrigir os cálculos

    Margem Venda = 
        SUM(BaseVendas[Lucro na Venda]) / SUM(BaseVendas[Faturamento na Venda])
    
    "Para Calculo de porcentagem deve-se utilizar medida pois tem o contexto de Filtro"


AULA_8: Variáveis em DAX para organizar os cálculos

    medida usando Variaveis:
        Margem Venda = 
            VAR Lucro = SUM(BaseVendas[Lucro na Venda]) 
            VAR FAturamento = SUM(BaseVendas[Faturamento na Venda])

            RETURN
                Lucro/FAturamento


AULA_9: Trocando as colunas calculadas por medidas - Parte 1

    Excluindo colunas calculadas:
        Faturamento total;
        Lucro total;
    
    Medidas:
        Faturamento total = 
            SUMX(
                BaseVendas,
                BaseVendas[Tamanho Pedido] * RELATED(CadastroProdutos[Preço Unitário])
            )


10. Trocando as colunas calculadas por medidas - Parte 2

    Medidas:
        Custo total = 
            SUMX(
                BaseVendas,
                BaseVendas[Tamanho Pedido] * RELATED(CadastroProdutos[Custo Unitário])
            )
        Lucro total = 
            [Faturamento total] - [Custo total]
        Marge


AULA_11: Entendendo as funções iterativas do Power BI

    Funções Iteradoras:
        Contexto de linha - Colunas;
        Contexto de filtro - Medidas;
        
        SUMX, MAXX, AVERAGEX, ...


AULA_12: Aplicando as Funções Iterativas (Parte 1)

    Medidas:
        Media de Lucro = 
            AVERAGEX(
                'BaseDevoluções',
                [Faturamento total] - [Custo total]
            )
        Maximo de Lucro = 
            MAXX(
                'BaseDevoluções',
                [Faturamento total] - [Custo total]
            )


AULA_13: Aplicando as Funções Iterativas (Parte 2)

    Medidas:
        Lucro Total com Desconto = 
            SUMX(
                'Base Vendas',
                [Faturamento Total] *
                (1-RELATED('Cadastro Promocoes'[Percentual Desconto])) -
                [Custo Total]
            )


AULA_14: Criando Tabela Calendário com DAX - Função CALENDARAUTO

    Tabela Calendário automatica:
        Calendario = 
            CALENDARAUTO()
        "Verifica menor e menor data entre as tabelas do modelo"
        "pega o inico do ano da menor data e o fim do ano da maior"


AULA_15: Criando Tabela Calendário com DAX - Função CALENDAR

    Tabela Calendário:
        Calendario = 
            VAR Inicio = 
                DATE(YEAR(MIN('Base Vendas'[Data da Venda])),01,01)
            VAR Fim = 
                DATE(YEAR(MAX('Base Vendas'[Data da Venda])),12,31)
            RETURN
                CALENDAR(Inicio, Fim)

        "O ideal é pegar to o ano tanto de menor quanto maior data"


AULA_16: Diferença entre criar Tabelas com DAX ou no Power Query

    "Tabelas criadas em DAX, Não estão no Power Query"
    "Em DAX a tabela deixa o projeto mais leve"


AULA_17: Criando Colunas na Tabela Calendário

    Colunas:
        Ano = YEAR(Calendario[Date]);
        Mes = MONTH(Calendario[Date]);
        Mes_nome = Calendario[Date].[Mês];
        Trimestre = Calendario[Date].[QuarterNo];
        Inicio_mes = STARTOFMONTH(Calendario[Date]);
        Inicio_ano = STARTOFYEAR(Calendario[Date]);
        Inicio_trimestre = STARTOFQUARTER(Calendario[Date]);
    
    "Relacionar calendario e base de vendas"


AULA_18: Criando Tabelas Filtradas com a Função Filter (Parte 1)

    Medidas com filtro:
        Total vendas Ticket > 100 = 
            SUMX(
                FILTER(
                    'Base Vendas',
                    'Base Vendas'[Preco Unitario] > 100
                ),
                'Base Vendas'[Quantidade Vendida]
            )


AULA_19: Criando Tabelas Filtradas com a Função Filter (Parte 2)

    Medidas com filtro:
        Vendas com Fat. > 1000 = 
            COUNTX(
                FILTER(
                    'Base Vendas',
                    [Faturamento Total] > 1000
                ),
                'Base Vendas'[ID Produto]
            )
    "Filtrando tabelas virtuamente"


AULA_20: Transição de Contexto (Parte 1)

    Coluna - Cadastro Produtos:
        Total de Vendas = SUM('Base Vendas'[Quantidade Vendida]) :
            "Retorna valor total, repetindo em todas linhas, pois formula SUM esta no contexto de filtro"
        Total de Vendas = CALCULATE(SUM('Base Vendas'[Quantidade Vendida])) :
            "Adiconando o CALCULATE o resultado será correto, pois trara a formula para o contexto de linha"


AULA_21: Transição de Contexto (Parte 2)

    Coluna - Cadastro Produtos: 
        Total de Vendas = [Total Vendas] :
            "Outra forma, é trazer uma medida para o Calculo de coluna, ficara no contexto de linha"

